## 一次 Event loop 的执行顺序

1. 执行同步代码，这属于宏任务
2. 执行栈为空，查询是否有微任务需要执行
3. 执行所有微任务
4. 必要的话渲染 UI，渲染完后本轮 Event loop 结束
5. 然后开始下一轮 Event loop，也就是执行宏任务中的异步代码

## 字节真题

```js
async function async1() {
  console.log(1);
  await async2().then(() => {
    console.info(8);
  });
  console.log(2);
}

async function async2() {
  console.log(3);
}

async1();

setTimeout(() => console.log(4), 0);

new Promise((resolve) => {
  resolve();
  console.log(5);
}).then(() => {
  console.log(6);
});

console.log(7);
```
