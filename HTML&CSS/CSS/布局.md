# 盒子模型的组成

盒子模型，是 css 中的经典概念，一个盒子模型，从里到外分别由以下区域组成：

**内容区域(content)--> 內边距区域(padding) --> 边框区域(border) --> 外边距区域(margin)**

在盒子模型中，无论什么盒子类型，盒子的宽高都是指*除掉外边距区域的宽高*。也就是*内容+内边距+边框*

# box-sizing 属性

box-sizing 属性用于设置盒子模型的类型，box-sizing 取值如下：

- `content-box`（默认值），一般称作“内容盒子模型”或者“标准盒子模型”，其 width/height 设置的是内容区域的宽高；
- `border-box`，一般称作“IE 盒子模型”或者“怪异盒子模型”，其 width/height 设置的是盒子的宽高。

绝大数场景中，content-box 并不好用，因为我们需要经常注意因 padding 和 border 导致的盒子尺寸增大问题。而后者，也就是 border-box，虽然它的中文名称听起来很 low（IE 时代遗珠、怪异），但确实是平常开发应用最广的。

# 盒子的布局方式

盒子的布局方式，我们可以简单归纳为两种：_相邻盒子、嵌套盒子_。

## 相邻盒子

顾名思义，相邻盒子就是指两个盒子之间呈相邻关系，比如块级盒子和块级盒子之间、行内盒子和行内盒子之间。

这里有3个比较怪异的现象：

1. 当块级盒子不设置宽度时，是默认占满父级盒子的内容区域，这时候只设置该块级盒子的 padding、margin、border，空间是向内挤占不会超出的父级盒子的。而一旦为块级盒子设置宽度，默认情况下就又会按标准盒子模型来处理；

2. 行内元素（display: inline）可以可以设置 padding 和 margin，水平方向上正常，但是在垂直方向上，margin 不会生效，padding 虽然生效但不挤占空间，极易发生重叠;

3. 行内元素（display: inline）设置宽高完全无效。

## 嵌套盒子

嵌套盒子则比较好理解，就是盒子里面包含盒子。

## 外边距塌陷问题

外边距塌陷问题会发生在两种场合：相邻盒子之间、父子盒子之间。*而且只会出现在垂直方向*。

> 注意，是父子盒子之间，不是隔代盒子之间。

父子盒子的外边距塌陷表现为：子元素的外边距会被放到父元素外面去，父子元素内部没有外边距。

怎样做可以避免边距塌陷呢？

- 父子盒子之间：*父元素有padding、border、BFC特性*，都可以避免边距塌陷。

- 相邻元素来说: margin不要直接硬碰硬，其中一个元素用一个BFC盒子包起来就行。

让我们想一想🤔外边距合并的本质：**边距与边距之间没有隔断，导致融合在一起，也就是合并。**

对于父子元素来说，我们为父元素设置BFC属性，其实是将子元素的外边距“包裹”住了，不外溢到父元素外部。对于相邻元素来说，用一个BFC盒子包裹住其中一个元素，也是为了将这个元素的外边距“包裹”住，避免与相邻元素的外边距直接接触。

相邻元素解决之道：

```html
<div class="bfc">
    <div class="test1">test1</div>
</div>

<div class="test2">test2</div>
```

```css
.bfc {
    overflow: hidden;
}

.test1 {
    margin: 40px;
}

.test2 {
    margin: 50px;
}
```

父子元素解决之道：

```html
<div class="bfc">
    <div class="sub">sub</div>
</div>
```

```css
.bfc {
    overflow: hidden;
    /* padding: 1px;  */ 
    /* border: 1px solid #ccc; */
}

.sub {
    margin: 50px;
}
```